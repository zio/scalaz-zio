<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-zio-flow/execution" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Execution | ZIO</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://zio.dev/img/zio.png"><meta data-rh="true" name="twitter:image" content="https://zio.dev/img/zio.png"><meta data-rh="true" property="og:url" content="https://zio.dev/zio-flow/execution"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Execution | ZIO"><meta data-rh="true" name="description" content="The data structures and operators in the zio-flow library only describe a ZIO Flow program. To execute them we need"><meta data-rh="true" property="og:description" content="The data structures and operators in the zio-flow library only describe a ZIO Flow program. To execute them we need"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://zio.dev/zio-flow/execution"><link data-rh="true" rel="alternate" href="https://zio.dev/zio-flow/execution" hreflang="en"><link data-rh="true" rel="alternate" href="https://zio.dev/zio-flow/execution" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://IAX8GRSWEQ-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ZIO RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ZIO Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-237088290-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SH0HNKLNRT"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-SH0HNKLNRT",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="ZIO" href="/opensearch.xml">


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400..900&amp;display=fallback" as="style" onload="this.rel=&#39;stylesheet&#39;"><link rel="stylesheet" href="/assets/css/styles.09caeff2.css">
<script src="/assets/js/runtime~main.cc8c4f89.js" defer="defer"></script>
<script src="/assets/js/main.141a85f3.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/navbar_brand.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:rgb(190, 105, 255);color:rgba(220, 173, 240, 1)" role="banner"><div class="content_knG7 announcementBarContent_xLdY">ðŸ“š <b>ZIONOMICON</b>, updated for ZIO 2.1, is out now! Grab <a href="https://zionomicon.com" target="_blank">your free copy</a> and level up your ZIO skills ðŸš€</div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/navbar_brand.png" alt="ZIO" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/navbar_brand.png" alt="ZIO" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/overview/getting-started">Overview</a><a class="navbar__item navbar__link" href="/reference/">Reference</a><a class="navbar__item navbar__link" href="/guides/">Guides</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ecosystem/">Ecosystem</a><a class="navbar__item navbar__link" href="/resources/">Resources</a><a class="navbar__item navbar__link" href="/events/">Events</a></div><div class="navbar__items navbar__items--right"><a href="http://chat.zio.dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chat Bot</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/zio-flow/execution">2.x</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zio-flow/execution">2.x</a></li><li><a class="dropdown__link" href="/1.0.18/">1.0.18</a></li></ul></div><a href="https://github.com/zio/zio" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ecosystem/">ZIO Ecosystem</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/ecosystem/officials/">Official Libraries</a><button aria-label="Collapse sidebar category &#x27;Official Libraries&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/caliban-deriving/">Caliban Deriving</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/izumi-reflect/">izumi-reflect</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio2-interop-cats2/">ZIO 2.x Interop Cats 2.x</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-amqp/">ZIO AMQP</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-aws/">ZIO AWS</a><button aria-label="Expand sidebar category &#x27;ZIO AWS&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-actors/">ZIO Actors</a><button aria-label="Expand sidebar category &#x27;ZIO Actors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-akka-cluster/">ZIO Akka Cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-bson/">ZIO Bson</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-cli/">ZIO CLI</a><button aria-label="Expand sidebar category &#x27;ZIO CLI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-cache/">ZIO Cache</a><button aria-label="Expand sidebar category &#x27;ZIO Cache&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-config/">ZIO Config</a><button aria-label="Expand sidebar category &#x27;ZIO Config&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-connect/">ZIO Connect</a><button aria-label="Expand sidebar category &#x27;ZIO Connect&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-constraintless/">ZIO Constraintless</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-deriving/">ZIO Deriving</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-direct/">ZIO Direct Style</a><button aria-label="Expand sidebar category &#x27;ZIO Direct Style&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-dynamodb/">ZIO DynamoDB</a><button aria-label="Expand sidebar category &#x27;ZIO DynamoDB&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-ftp/">ZIO FTP</a><button aria-label="Expand sidebar category &#x27;ZIO FTP&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/zio-flow/">ZIO Flow</a><button aria-label="Collapse sidebar category &#x27;ZIO Flow&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-flow/zflow">Defining flows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-flow/remote">Remote</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-flow/activities">Activities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zio-flow/execution">Execution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-flow/backends">Backends</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-flow/testing">Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-flow/examples">Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-flow/internals">Internals</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-http/">ZIO HTTP</a><button aria-label="Expand sidebar category &#x27;ZIO HTTP&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-insight/">ZIO Insight</a><button aria-label="Expand sidebar category &#x27;ZIO Insight&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-interop-guava/">ZIO Interop Guava</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interop-monix/">ZIO Interop Monix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-interop-reactivestreams/">ZIO Interop Reactive Streams</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-interop-scalaz/">ZIO Interop Scalaz</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-interop-twitter/">ZIO Interop Twitter</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-jdbc/">ZIO JDBC</a><button aria-label="Expand sidebar category &#x27;ZIO JDBC&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-json/">ZIO JSON</a><button aria-label="Expand sidebar category &#x27;ZIO JSON&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-kafka/">ZIO Kafka</a><button aria-label="Expand sidebar category &#x27;ZIO Kafka&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-lambda/">ZIO Lambda</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-logging/">ZIO Logging</a><button aria-label="Expand sidebar category &#x27;ZIO Logging&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-memberlist/">ZIO Memberlist</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-meta/">ZIO Meta</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-metrics-connectors/">ZIO Metrics Connectors</a><button aria-label="Expand sidebar category &#x27;ZIO Metrics Connectors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-mock/">ZIO Mock</a><button aria-label="Expand sidebar category &#x27;ZIO Mock&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-nio/">ZIO NIO</a><button aria-label="Expand sidebar category &#x27;ZIO NIO&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-optics/">ZIO Optics</a><button aria-label="Expand sidebar category &#x27;ZIO Optics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-parser/">ZIO Parser</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-prelude/">ZIO Prelude</a><button aria-label="Expand sidebar category &#x27;ZIO Prelude&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-process/">ZIO Process</a><button aria-label="Expand sidebar category &#x27;ZIO Process&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-profiling/">ZIO Profiling</a><button aria-label="Expand sidebar category &#x27;ZIO Profiling&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-query/">ZIO Query</a><button aria-label="Expand sidebar category &#x27;ZIO Query&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-quill/">ZIO Quill</a><button aria-label="Expand sidebar category &#x27;ZIO Quill&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-redis/">ZIO Redis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-rocksdb/">ZIO RocksDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-s3/">ZIO S3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-sbt/">ZIO SBT</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-sql/">ZIO SQL</a><button aria-label="Expand sidebar category &#x27;ZIO SQL&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-sqs/">ZIO SQS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-schema/">ZIO Schema</a><button aria-label="Expand sidebar category &#x27;ZIO Schema&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-streams-compress/">ZIO Streams Compress</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/zio-telemetry/">ZIO Telemetry</a><button aria-label="Expand sidebar category &#x27;ZIO Telemetry&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zio-webhooks/">ZIO Webhooks</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ecosystem/community/">Community Libraries</a><button aria-label="Expand sidebar category &#x27;Community Libraries&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ecosystem/compatible">ZIO Compatible Libraries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ecosystem/tools">ZIO Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ecosystem/templates">Project Templates</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/ecosystem/officials/"><span itemprop="name">Official Libraries</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zio-flow/"><span itemprop="name">ZIO Flow</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Execution</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.x</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Execution</h1></header>
<p>The data structures and operators in the <code>zio-flow</code> library only <em>describe</em> a ZIO Flow program. To execute them we need
a persistent executor configured with a chosen set of dependencies. Most of the executor implementation is in
the <code>zio-flow-runtime</code> module, with some backend-specific extra modules discussed in the <a href="/zio-flow/backends">backends</a> section.</p>
<p>There are two main ways to execute a ZIO Flow program:</p>
<ul>
<li>Embedding <code>zio-flow-runtime</code> in your own application, using the <code>PersistentExecutor</code> service</li>
<li>Use the default <em>ZIO Flow Server</em> which is an executable service application built on top of <code>zio-flow-runtime</code></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="embedding-the-persistent-executor">Embedding the persistent executor<a href="#embedding-the-persistent-executor" class="hash-link" aria-label="Direct link to Embedding the persistent executor" title="Direct link to Embedding the persistent executor">â€‹</a></h2>
<p>To embed the ZIO Flow executor in your own application, you need to add the following dependency:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">libraryDependencies </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;dev.zio&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;zio-flow-runtime&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1.0.0-RC4&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then you can initialize the <code>PersistentExecutor</code> service with the following method on its companion object:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> make</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">gcPeriod</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Duration </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5.</span><span class="token plain">minutes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ZLayer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  DurableLog </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    KeyValueStore </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Configuration </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OperationExecutor </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serializer </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Deserializer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">Nothing</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ZFlowExecutor</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is a <code>ZLayer</code> creating a <code>ZFlowExecutor</code>. Let&#x27;s see first what this interface is capable of, then we&#x27;ll see how to
create the required dependencies.</p>
<p>The <code>ZFlowExecutor</code> interface has the following methods:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="run"><code>run</code><a href="#run" class="hash-link" aria-label="Direct link to run" title="Direct link to run">â€‹</a></h3>
<p><code>run</code> submits a flow to the executor, and waits until it completes. The failure/success of the flow is represented as
the failure/result of this <code>ZIO</code> effect.</p>
<p>To make this work ZIO Flow needs a <code>Schema</code> for both the error type and the result type. This is how the executor&#x27;s
result can be converted to the expected type.</p>
<p>The <code>run</code> method expects that the provided <code>ZFlow</code> has no input requirements (it&#x27;s <code>R</code> parameter is <code>Any</code>). If you need
to run a flow that requires an input, you can first use <code>.provide</code> on it to provide the input, and then run it.</p>
<p>Let&#x27;s see an example, assuming that we have <code>ZFlowExecutor</code> in the environment of our ZIO program:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">zio</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token plain">_</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">zio</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">flow</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token plain">_</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">zio</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">flow</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">runtime</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token plain">_</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> flow</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ZFlow</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ZFlow</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">input</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">flatMap </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> n </span><span class="token keyword" style="color:#00009f">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ZFlow</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ifThenElse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ifTrue </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ZFlow</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">succeed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ifFalse </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ZFlow</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fail</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;input is too low&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> program</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ZIO</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ZFlowExecutor</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">Int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ZFlowExecutor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">FlowId</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;test1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> flow</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">provide</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>FlowId</code> is a unique identifier for <em>an execution</em> of the flow. It is the caller&#x27;s responsibility to generate a
fresh identifier in case the flow has to be started from scratch. If a flow with the given identifier is already
running, or it&#x27;s persisted state is available, the execution of that flow will continue and the method will wait for the
result of that execution.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="start-and-poll"><code>start</code> and <code>poll</code><a href="#start-and-poll" class="hash-link" aria-label="Direct link to start-and-poll" title="Direct link to start-and-poll">â€‹</a></h3>
<p>An alternative to <code>run</code> is to just <em>start</em> the execution of a flow with the <code>start</code> method, without waiting for its
completion. The running workflow&#x27;s state can be later queries with <code>poll</code>. The start method actually returns with
a <code>DurablePromise</code> that can be directly used to wait for the result of the flow, but it is much simpler to use
the <code>poll</code> method instead.</p>
<p>Another difference is that <code>start</code> and <code>poll</code> does not use the flow&#x27;s error and result types. The polled result
represents both failures and errors as <code>DynamicValue</code> values. This is a generic data type from the <code>zio-schema</code> library
that can represent any value that has a <code>Schema</code>. By owning such a <code>Schema</code> you can convert back the dynamic value to
its original type. You can learn more about how <code>DynamicValue</code> is used in the internals of ZIO Flow in
the <a href="/zio-flow/internals">internals</a> page.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="restartall"><code>restartAll</code><a href="#restartall" class="hash-link" aria-label="Direct link to restartall" title="Direct link to restartall">â€‹</a></h3>
<p>When the executor is initialized, it is not running any flows, even if there were previously running flows persisted
that could be resumed. To start running these persisted flows, you can call the <code>restartAll</code> method. This will load and
immediately resume every persisted ZIO Flow program that was previously running.</p>
<p>If you don&#x27;t want this, you can resume the flows one by one if you know their <code>FlowId</code> by calling <code>run</code> or <code>start</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="delete"><code>delete</code><a href="#delete" class="hash-link" aria-label="Direct link to delete" title="Direct link to delete">â€‹</a></h3>
<p>Once a flow is completed, it&#x27;s last persisted state, as well as it&#x27;s results is still stored in the database, so
calling <code>poll</code> or <code>getAll</code> can return information about it. The <code>delete</code> method completely removes a <em>completed flow</em>
from the executor&#x27;s persisted state.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pause-resume-and-abort"><code>pause</code>, <code>resume</code> and <code>abort</code><a href="#pause-resume-and-abort" class="hash-link" aria-label="Direct link to pause-resume-and-abort" title="Direct link to pause-resume-and-abort">â€‹</a></h3>
<p>A running flow can be <em>paused</em> with <code>pause</code> and resumed any time with <code>resume</code>. A paused flow remains paused in case the
executor is restarted and <code>restartAll</code> is called.</p>
<p>A running (or paused) flow can be <em>aborted</em> with the <code>abort</code> method. An aborted flow&#x27;s result is
the <code>ExecutorError.Interrupted</code> error.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getall"><code>getAll</code><a href="#getall" class="hash-link" aria-label="Direct link to getall" title="Direct link to getall">â€‹</a></h3>
<p>The <code>getAll</code> method returns a <em>ZIO stream</em> of <code>FlowId</code> and <code>FlowStatus</code> pairs, listing all the ZIO Flow programs the
executor knows about. The <code>FlowStatus</code> is an enumeration with the following values:</p>
<ul>
<li><code>Running</code> - the flow is currently running</li>
<li><code>Paused</code> - the flow is currently paused</li>
<li><code>Suspended</code> - the flow is currently suspended in a transaction, waiting for a variable to change</li>
<li><code>Done</code> - the flow finished running either with an error or with a success</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="forcegarbagecollection"><code>forceGarbageCollection</code><a href="#forcegarbagecollection" class="hash-link" aria-label="Direct link to forcegarbagecollection" title="Direct link to forcegarbagecollection">â€‹</a></h3>
<p>Garbage collection in the context of a persistent executor is not about releasing items from the <em>memory</em>, but deleting
old persistent state from the database backend. This is executed periodically by the executor, but you can also trigger
it manually with the <code>forceGarbageCollection</code> method.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dependencies">Dependencies<a href="#dependencies" class="hash-link" aria-label="Direct link to Dependencies" title="Direct link to Dependencies">â€‹</a></h3>
<p>The persistent executor layer depends on the following other ZIO <em>services</em>:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="durablelog"><code>DurableLog</code><a href="#durablelog" class="hash-link" aria-label="Direct link to durablelog" title="Direct link to durablelog">â€‹</a></h4>
<p><code>DurableLog</code> is a persistent event log used for waiting for variables to change or promises to be completed. Currently
the only implementation is defined by the <code>DurableLog.layer</code> layer and it depends on an <code>IndexedStore</code>. <code>IndexedStore</code>
is provided by the <a href="/zio-flow/backends">backend modules</a> similar to<code>KeyValueStore</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="keyvaluestore"><code>KeyValueStore</code><a href="#keyvaluestore" class="hash-link" aria-label="Direct link to keyvaluestore" title="Direct link to keyvaluestore">â€‹</a></h4>
<p><code>KeyValueStore</code> is an interface for storing and retrieving information based on keys from a persistency solution. There
are multiple implementations available in the <a href="/zio-flow/backends">backend modules</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration"><code>Configuration</code><a href="#configuration" class="hash-link" aria-label="Direct link to configuration" title="Direct link to configuration">â€‹</a></h4>
<p>The <code>Configuration</code> service stores the user defined configuration values, indexed by a <code>ConfigKey</code>, that can be accessed
by the ZIO Flow programs using <code>Remote.config</code>. The following implementations are available:</p>
<ul>
<li><code>Configuration.inMemory</code> - stores the configuration in memory, useful mostly for testing. The initial state is empty.</li>
<li><code>Configuration.fromEnvironment</code> - by providing a mapping from <code>ConfigKey</code> to <em>system environment variable names</em>, this
implementation provides configuration values for ZIO Flow programs directly from environment variables</li>
<li><code>Configuration.fromConfig</code> - uses ZIO&#x27;s native configuration API to read configuration values from a given subsection
of the provided configuration</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="operationexecutor"><code>OperationExecutor</code><a href="#operationexecutor" class="hash-link" aria-label="Direct link to operationexecutor" title="Direct link to operationexecutor">â€‹</a></h4>
<p>The <code>OperationExecutor</code> service is responsible for executing <code>Operatotion</code>s, described on the <a href="/zio-flow/activities">activities</a>
page.</p>
<p>There are two built-in <code>OperatorExecutor</code> implementations in ZIO Flow:</p>
<ul>
<li><code>DefaultOperationExecutor.layer</code> constructs an executor that supports the <code>Operation.HTTP</code> operations, implemented
using the <code>zio-http</code> library</li>
<li><code>MockedOperationExecutor</code> is useful for testing flow, more information about it can be found on
the <a href="/zio-flow/testing#mocking-operations">testing</a> page</li>
</ul>
<p>The default operation executor requires you to provide HTTP retry policy configuration, that describes how each HTTP
requests are handling errors. More information about these policies can be found in the server configuration section
below.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="serializer-and-deserializer"><code>Serializer</code> and <code>Deserializer</code><a href="#serializer-and-deserializer" class="hash-link" aria-label="Direct link to serializer-and-deserializer" title="Direct link to serializer-and-deserializer">â€‹</a></h4>
<p>These two services define how the persisted data (both variables and flow state) is serialized and deserialized.
Serialization is based on <em>codecs</em> provided by the <code>zio-schema</code> library.</p>
<p>Currently we provide two implementations for these services:</p>
<ul>
<li><code>Serializer.json</code> and <code>Deserializer.json</code> - uses JSON serialization</li>
<li><code>Serializer.protobuf</code> and <code>Deserializer.protobuf</code> - uses Protobuf serialization</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="zio-flow-server">ZIO Flow Server<a href="#zio-flow-server" class="hash-link" aria-label="Direct link to ZIO Flow Server" title="Direct link to ZIO Flow Server">â€‹</a></h2>
<p><em>ZIO Flow Server</em> is a ready to use executable server application that wraps the persistent executor and provides a (
HOCON) file based configuration to set it up, and a REST API for running and querying flows.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-server">Running the server<a href="#running-the-server" class="hash-link" aria-label="Direct link to Running the server" title="Direct link to Running the server">â€‹</a></h3>
<p>There is no packaged executable of the server at the moment, but later we are planning to provide a ready to use docker
container.</p>
<p>Today to run the server the easiest way is to clone the repository and run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export ZIO_FLOW_SERVER_CONFIG=custom-config.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sbt zioFlowServer/run</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-1">Configuration<a href="#configuration-1" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">â€‹</a></h3>
<p>The configuration file pointed by <code>ZIO_FLOW_SERVER_CONFIG</code> is a <em>HOCON file</em>.</p>
<p>The file has the following sections and values:</p>
<table><thead><tr><th>Section</th><th>Description</th></tr></thead><tbody><tr><td><code>port</code></td><td>the port the server will listen on</td></tr><tr><td><code>key-value-store</code></td><td>selects the backend to use for <em>key value store</em>, can be either <code>rocksdb</code>, <code>cassandra</code>, <code>dynamodb</code> or <code>in-memory</code>. See the <a href="/zio-flow/backends">backends</a> page for more information. Currently the <code>key-value-store</code> is also used to store the <em>flow templates</em> (discussed below). This is expected to move to its own configuration key in next versions.</td></tr><tr><td><code>indexed-store</code></td><td>selects the backend to use for <em>indexed store</em>, most of the time it should be the same as <code>key-value-store</code></td></tr><tr><td><code>metrics.interval</code></td><td>defines the interval for collecting internal metrics</td></tr><tr><td><code>serialization-format</code></td><td>can be either <code>json</code> or <code>protobuf</code></td></tr><tr><td><code>gc-period</code></td><td>the interval</td></tr><tr><td><code>flow-configuration</code></td><td>a list of key-value pairs of user-defined configuration provided to flows via <code>Remote.config</code></td></tr><tr><td><code>policies</code></td><td>definition of HTTP retry policies, explained in details below</td></tr><tr><td><code>rocksdb-key-value-store</code></td><td>configuration for the RocksDB key value store, if it was selected by <code>key-value-store</code></td></tr><tr><td><code>rocksdb-indexed-store</code></td><td>configuration for the RocksDB indexed store, if it was selected by <code>indexed-store</code></td></tr><tr><td><code>cassandra-key-value-store</code></td><td>configuration for the Cassandra key value store, if it was selected by <code>key-value-store</code></td></tr><tr><td><code>cassandra-indexed-store</code></td><td>configuration for the Cassandra indexed store, if it was selected by <code>indexed-store</code></td></tr></tbody></table>
<p>For configuration of the <em>DynamoDb store</em>, check the documentation of
the <a href="https://zio.dev/zio-aws/configuration" target="_blank" rel="noopener noreferrer">zio-aws library</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="http-retry-policies">HTTP retry policies<a href="#http-retry-policies" class="hash-link" aria-label="Direct link to HTTP retry policies" title="Direct link to HTTP retry policies">â€‹</a></h4>
<p>The <code>policies.http</code> node contains two sub nodes:</p>
<ul>
<li><code>default</code> is the default policy for all HTTP requests that are not customized by the <code>per-host</code> settings</li>
<li>Items in <code>per-host</code> can override the default settings based on the request&#x27;s host name</li>
</ul>
<p>For each host (and the default settings) you can define the following settings:</p>
<ul>
<li><code>max-parallel-request-count</code> is the maximum number of parallel requests that can be sent to the host</li>
<li><code>host-override</code> should only be used in the <code>per-host</code> configurations and it allows you to change the host name of the
requests</li>
<li><code>retry-policies</code> is a list of retry policies, described below</li>
<li><code>circuit-breaker-policy</code> is an optional node describing how to reset the <em>circuit breaker</em> for the host after it gets
opened</li>
<li><code>timeout</code> is the maximum duration a request can take before get cancelled</li>
</ul>
<p>Each element in <code>retry-policies</code> is a configuration object with the following properties:</p>
<p><code>condition</code> specifies the condition when this specific retry policy should be used. The following condition types are
supported:</p>
<ul>
<li><code>always</code> defines a retry policy that is going to match <em>all</em> requests</li>
<li><code>for-specific-status</code> selects a single specific HTTP status code</li>
<li><code>for-4xx</code> defines a retry policy for cases when the server responded with any HTTP status code between 400-499</li>
<li><code>for-5xx</code> defines a retry policy for cases when the server responded with any HTTP status code between 500-599</li>
<li><code>open-circuit-breaker</code> defines a retry policy for the case when a request is blocked by an open <em>circuit breaker</em></li>
<li><code>or</code> combines two conditions, defined in the <code>first</code> and <code>second</code> sub nodes</li>
</ul>
<p><code>retry-policy</code> defines how to retry the request; it is the same configuration structure as the one used
for <code>circuit-breaker-policy</code>, and we are going to define it later.</p>
<p><code>break-circuit</code> is a boolean option. If it is <code>true</code>, when the condition of this retry policy is triggered, it will not
only retry the request but also report this as a failure for the <em>circuit breaker</em>. The circuit breaker will open the
circuit, making all further requests fail (with the condition <code>open-circuit-breaker</code>) for a given period.</p>
<p>For both the <code>retry-polcy</code> of each retry policy and for the <code>circuit-breaker-policy</code> describing the resetting behavior
of the circuit breaker the configuration structure looks the same:</p>
<ul>
<li><code>fail-after</code> defines the maximum number of retries, or the maximum elapsed time spent for retries</li>
<li><code>repetition</code> defines how much time elapses between retries. it can be either a <code>fixed</code> time interval, or
an <code>exponential</code> one</li>
<li><code>jitter</code> is a boolean configuration enabling some jittering for these configured intervals</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rest-api">REST API<a href="#rest-api" class="hash-link" aria-label="Direct link to REST API" title="Direct link to REST API">â€‹</a></h3>
<p>The <em>ZIO Flow Server</em> provides a HTTP REST API for working with ZIO Flow programs. This section defines all the
available endpoints.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-healthcheck"><code>GET /healthcheck</code><a href="#get-healthcheck" class="hash-link" aria-label="Direct link to get-healthcheck" title="Direct link to get-healthcheck">â€‹</a></h4>
<p>Simple healthcheck endpoint to check that ZIO Flow server is running.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-metrics"><code>GET /metrics</code><a href="#get-metrics" class="hash-link" aria-label="Direct link to get-metrics" title="Direct link to get-metrics">â€‹</a></h4>
<p>Prometheus metrics. The list of available metrics is defined in the <a href="#metrics">metrics section</a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-templates"><code>GET /templates</code><a href="#get-templates" class="hash-link" aria-label="Direct link to get-templates" title="Direct link to get-templates">â€‹</a></h4>
<p>Get all the available <em>templates</em> registered in the server. A <em>template</em> in ZIO Flow server is a stored ZIO Flow program
that optionally can have an <em>input parameter</em> as well. By storing these on the server they get an associated <em>template
ID</em> and you can refer to this ID when starting a new flow instead of sending the whole serialized ZIO Flow program every
time.</p>
<p>The response JSON has the following structure:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;entries&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;templateId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;xyz&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;template&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;flow&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;inputSchema&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-templatestemplateid"><code>GET /templates/&lt;templateId&gt;</code><a href="#get-templatestemplateid" class="hash-link" aria-label="Direct link to get-templatestemplateid" title="Direct link to get-templatestemplateid">â€‹</a></h4>
<p>Gets a single stored <em>flow template</em> by its identifier.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="put-templatestemplateid"><code>PUT /templates/&lt;templateId&gt;</code><a href="#put-templatestemplateid" class="hash-link" aria-label="Direct link to put-templatestemplateid" title="Direct link to put-templatestemplateid">â€‹</a></h4>
<p>Stores a new <em>flow template</em> by providing an identifier and posting the flow and input schema in the request&#x27;s body.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="delete-templatestemplateid"><code>DELETE /templates/&lt;templateId&gt;</code><a href="#delete-templatestemplateid" class="hash-link" aria-label="Direct link to delete-templatestemplateid" title="Direct link to delete-templatestemplateid">â€‹</a></h4>
<p>Deletes a <em>flow template</em> that was previously stored by the above defined <code>PUT</code> by its identifier.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="post-flows"><code>POST /flows</code><a href="#post-flows" class="hash-link" aria-label="Direct link to post-flows" title="Direct link to post-flows">â€‹</a></h4>
<p>Start executing a new <em>ZIO Flow program</em>.</p>
<p>The following JSON examples show the possibilities of this endpoint:</p>
<p>Starting execution of a ZIO Flow that has no parameters (<code>ZFlow.succeed(1)</code>) :</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;Flow&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;flow&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;Return&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;Literal&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;Int&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Starting execution of a ZIO Flow that has a <em>required input parameter</em> by providing this parameter&#x27;s type (schema) and
the value as well (<code>ZFlow.input[Int]</code>):</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;FlowWithParameter&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;flow&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;Input&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;schema&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;Other&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;toAst&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;Value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;valueType&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;int&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;optional&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Starting a ZIO Flow program that is stored as a <em>flow template</em> and does not require any parameters:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;Template&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;templateId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;template1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Starting a ZIO Flow program that is stored as a <em>flow template</em> and requires a parameter as well:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;TemplateWithParameter&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;templateId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;template2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The response JSON contains a field called <code>flowId</code> containing the started flow&#x27;s identifier. It can be used to poll
for the result of the running flow, as well as pausing, resuming or aborting it.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;flowId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;xyz&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-flows"><code>GET /flows</code><a href="#get-flows" class="hash-link" aria-label="Direct link to get-flows" title="Direct link to get-flows">â€‹</a></h4>
<p>Gets a list of all the flows handled by the server&#x27;s executor, together with their current status.</p>
<p>The response is a mapping from <em>flow ID</em> to <em>status</em>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;flow1&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Running&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;flow2&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Paused&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;flow3&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Done&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;flow4&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Suspended&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>(in reality the flow IDs are UUIDs)</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-flowsflowid"><code>GET /flows/&lt;flowId&gt;</code><a href="#get-flowsflowid" class="hash-link" aria-label="Direct link to get-flowsflowid" title="Direct link to get-flowsflowid">â€‹</a></h4>
<p>Polls the status of a given flow. The following examples demonstrate the possible response JSONs for this request:</p>
<p>When the flow is still running:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;Running&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If the flow died with an internal error, or was <em>aborted</em> (could be any other <code>ExecutionError</code>, not just <code>Interrupted</code>):</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;Died&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;Interrupted&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If the flow finished running and succeeded with a value:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;Succeeded&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If the flow finished running and failed with a value:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;Failed&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;flow failed!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="delete-flowsflowid"><code>DELETE /flows/&lt;flowId&gt;</code><a href="#delete-flowsflowid" class="hash-link" aria-label="Direct link to delete-flowsflowid" title="Direct link to delete-flowsflowid">â€‹</a></h4>
<p>Deletes an already completed <em>flow</em> from the executor.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="post-flowsflowidpause"><code>POST /flows/&lt;flowId&gt;/pause</code><a href="#post-flowsflowidpause" class="hash-link" aria-label="Direct link to post-flowsflowidpause" title="Direct link to post-flowsflowidpause">â€‹</a></h4>
<p>Pauses a running <em>flow</em>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="post-flowsflowidresume"><code>POST /flows/&lt;flowId&gt;/resume</code><a href="#post-flowsflowidresume" class="hash-link" aria-label="Direct link to post-flowsflowidresume" title="Direct link to post-flowsflowidresume">â€‹</a></h4>
<p>Resumes a previously paused <em>flow</em>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="post-flowsflowidabort"><code>POST /flows/&lt;flowId&gt;/abort</code><a href="#post-flowsflowidabort" class="hash-link" aria-label="Direct link to post-flowsflowidabort" title="Direct link to post-flowsflowidabort">â€‹</a></h4>
<p>Aborts a running flow.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="metrics">Metrics<a href="#metrics" class="hash-link" aria-label="Direct link to Metrics" title="Direct link to Metrics">â€‹</a></h2>
<p>Many components of ZIO Flow report <em>metrics</em> using ZIO&#x27;s built-in metrics API. <em>ZIO Flow Server</em> exposes these metrics
for Prometheus via the <code>/metrics</code> endpoint. In case of using the executor embedded in your own application, the metrics
can be sent to any metrics backend that supports the ZIO metrics API.</p>
<p>The following list contains all the metrics reported by various components of the ZIO Flow runtime:</p>
<ul>
<li><code>zioflow_remote_evals</code> is a counter for (<em>tracked Remotes</em>)[remote#metrics]</li>
<li><code>zioflow_remote_eval_time_ms</code> is a histogram for <em>tracked Remotes</em></li>
<li><code>zioflow_started_total</code> is a counter incremented every time a flow is started executing (either new or restarted)</li>
<li><code>zioflow_active_flows</code> is a gauge containing the actual number of running or suspended flows</li>
<li><code>zioflow_operations_total</code> is a counter for each primitive <code>ZFlow</code> operation that was executed</li>
<li><code>zioflow_transactions_total</code> is a counter for the number of committed, failed or retried transactions</li>
<li><code>zioflow_finished_flows_total</code> is a counter increased when a flow finishes with either success, failure or death</li>
<li><code>zioflow_executor_error_total</code> is a counter for different executor errors</li>
<li><code>zioflow_state_size_bytes</code> is a histogram for the serialized workflow state snapshots in bytes</li>
<li><code>zioflow_variable_access_total</code> is a counter increased when a remote variable is accessed (read, write or delete)</li>
<li><code>zioflow_variable_size_bytes</code> is a histogram of the serialized size of remote variables in bytes</li>
<li><code>zioflow_finished_flow_age_ms</code> is a histogram of the duration between submitting the workflow and completing it</li>
<li><code>zioflow_total_execution_time_ms</code> is a histogram of the total time a workflow was in either running or suspended state
during its life</li>
<li><code>zioflow_suspended_time_ms</code> is a histogram of time fragments a workflow spends in suspended state</li>
<li><code>zioflow_gc_time_ms</code> is a histogram of the time a full persistent garbage collection run takes</li>
<li><code>zioflow_gc_deletion</code> is a counter for the number of remote variables deleted by the garbage collector</li>
<li><code>zioflow_gc</code> is a counter for the number of persistent garbage collector runs</li>
<li><code>zioflow_http_responses_total</code> is a counter for the number of HTTP operations performed</li>
<li><code>zioflow_http_response_time_ms</code> is a histogram of the HTTP operation response times</li>
<li><code>zioflow_http_failed_requests_total</code> is a counter for the number of failed HTTP requests</li>
<li><code>zioflow_http_retried_requests_total</code> is a counter for the number of retried HTTP requests per host- ``</li>
</ul>
<p>The ZIO Flow Server also reports the <em>default JVM metrics</em> provided by ZIO Core.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-operation-executor">Custom operation executor<a href="#custom-operation-executor" class="hash-link" aria-label="Direct link to Custom operation executor" title="Direct link to Custom operation executor">â€‹</a></h2>
<p>Writing a custom implementation of <code>OperationExecutor</code> is the intended way to extend ZIO Flow with custom ways to
interact with the outside world. An <code>OperationExecutor</code> gets an input value and an <code>Operation[Input, Output]</code> value, and
it has to provide a <em>ZIO effect</em> that produces a <code>Result</code> or fails with an <code>ActivityError</code>.</p>
<p>As <code>Operation</code> is a sealed trait, custom operations are encoded by <code>Operation.Custom</code> with a payload represented by
a <code>DynamicValue</code>. The payload can be converted to <code>DynamicValue</code> using a <code>Schema</code>.</p>
<p>The following example shows how to implement a custom operation that gets a static string (serialized as part of the
operation) and a dynamic string from the operation&#x27;s input, and pushes a concatenated string to a queue provided for the
operation executor:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">zio</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">schema</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">DeriveSchema</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DynamicValue</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Schema</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> TypeId</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> CustomOp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">prefix</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">String</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">object</span><span class="token plain"> CustomOp </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> typeId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> TypeId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> TypeId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;zio.flow.runtime.internal.executor.CustomOperationExecutorSpec.CustomOp&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">implicit</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> schema</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Schema</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">CustomOp</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> DeriveSchema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gen</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">CustomOp</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/** Helper for constructing the custom operation */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> customOp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">prefix</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">String</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Operation</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">Unit</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Operation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Custom</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CustomOp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">typeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DynamicValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CustomOp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">prefix</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Schema</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">String</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Schema</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">Unit</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/** Example usage of the custom operation in an activity */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> customActivity</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">prefix</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">String</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Activity</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">Unit</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Activity</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;custom1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;test activity using custom operation&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    customOp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">prefix</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Activity</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">checkNotSupported</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Activity</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">compensateNotSupported</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/** Example implementation of the custom operation executor */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> CustomOperationExecutor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">queue</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Queue</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">String</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> OperationExecutor </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">override</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> execute</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Input</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Result</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    input</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Input</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    operation</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Operation</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Input</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Result</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ZIO</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">RemoteContext</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ActivityError</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Result</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    operation </span><span class="token keyword" style="color:#00009f">match</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> Operation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Custom</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">typeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> operation</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> _</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> _</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> typeId </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> CustomOp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">typeId </span><span class="token keyword" style="color:#00009f">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          op </span><span class="token keyword" style="color:#00009f">&lt;-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ZIO</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fromEither</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">operation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">toTypedValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CustomOp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">schema</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mapError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">failure </span><span class="token keyword" style="color:#00009f">=&gt;</span><span class="token plain"> ActivityError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">failure</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          _ </span><span class="token keyword" style="color:#00009f">&lt;-</span><span class="token plain"> queue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">offer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">op</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">prefix </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> input</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">asInstanceOf</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">String</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">yield</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">asInstanceOf</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Result</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> _ </span><span class="token keyword" style="color:#00009f">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ZIO</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fail</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ActivityError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Unsupported operation&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/zio/zio/edit/series/2.x/docs/zio-flow/execution.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/zio-flow/activities"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Activities</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zio-flow/backends"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Backends</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#embedding-the-persistent-executor" class="table-of-contents__link toc-highlight">Embedding the persistent executor</a><ul><li><a href="#run" class="table-of-contents__link toc-highlight"><code>run</code></a></li><li><a href="#start-and-poll" class="table-of-contents__link toc-highlight"><code>start</code> and <code>poll</code></a></li><li><a href="#restartall" class="table-of-contents__link toc-highlight"><code>restartAll</code></a></li><li><a href="#delete" class="table-of-contents__link toc-highlight"><code>delete</code></a></li><li><a href="#pause-resume-and-abort" class="table-of-contents__link toc-highlight"><code>pause</code>, <code>resume</code> and <code>abort</code></a></li><li><a href="#getall" class="table-of-contents__link toc-highlight"><code>getAll</code></a></li><li><a href="#forcegarbagecollection" class="table-of-contents__link toc-highlight"><code>forceGarbageCollection</code></a></li><li><a href="#dependencies" class="table-of-contents__link toc-highlight">Dependencies</a></li></ul></li><li><a href="#zio-flow-server" class="table-of-contents__link toc-highlight">ZIO Flow Server</a><ul><li><a href="#running-the-server" class="table-of-contents__link toc-highlight">Running the server</a></li><li><a href="#configuration-1" class="table-of-contents__link toc-highlight">Configuration</a></li><li><a href="#rest-api" class="table-of-contents__link toc-highlight">REST API</a></li></ul></li><li><a href="#metrics" class="table-of-contents__link toc-highlight">Metrics</a></li><li><a href="#custom-operation-executor" class="table-of-contents__link toc-highlight">Custom operation executor</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn!</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/overview/getting-started">Getting Started!</a></li><li class="footer__item"><a class="footer__link-item" href="/reference">Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/guides">Guides</a></li><li class="footer__item"><a href="https://javadoc.io/doc/dev.zio/zio_3/latest/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Scaladoc of ZIO<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community and Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/zio/zio" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/2ccFBr4" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/zioscala" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">ZIO Newsletter</div><ul class="footer__items clean-list"><li class="footer__item">
                <a href="https://ziverge.us21.list-manage.com/subscribe?u=320ecb1626d9d6e2f5c111cce&id=75ac6a8d09" target="_blank" style="background-color:#e73c00;color:#fff;display:inline-block;font-size:14px;font-weight:bold;line-height:30px;text-align:center;text-decoration:none;width:100px;-webkit-text-size-adjust:none;border-radius: 10px; -moz-border-radius: 10px; -webkit-border-radius: 10px;">Subscribe</a>
              </li></ul></div><div class="col footer__col"><div class="footer__title">Contribution</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/contributor-guidelines">Contributor Guidelines</a></li><li class="footer__item"><a class="footer__link-item" href="/contributing-to-zio-ecosystem">Contributing to ZIO Ecosystem</a></li><li class="footer__item"><a class="footer__link-item" href="/contributing-to-documentation">Contributing to The ZIO Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/coding-guidelines">Coding Guidelines</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/faq">FAQ</a></li><li class="footer__item"><a class="footer__link-item" href="/adopters">Adopters</a></li><li class="footer__item"><a class="footer__link-item" href="/code-of-conduct">Code of Conduct</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 ZIO Maintainers - Built with <a href="https://v2.docusaurus.io/">Docusaurus v2</a></div></div></div></footer><button id="chat-button" class="fixed border-0 font-sans text-xl bg-orange-400 rounded-tl-md text-black px-3 py-2 hover:scale-95 transition text-ms bottom-0 right-0">ZIO Chat!</button><div id="container" class="fixed 2xl:w-[30%] xl:w-[40%] lg:w-[50%] md:w-[100%] sm:w-[100%] bottom-0 right-0 hidden"><div id="ChatPrompt" class="dark:bg-[#242526] justify-between flex flex-col p-5 rounded-md bg-gray-100 max-h-screen"><h1 class="text-[red] text-3xl font-bold mb-6">ZIO Chat</h1><div id="scroller" class="flex flex-col space-y-4 overflow-y-scroll scroll-smooth"><div class="w-full chat-message bot-message text-base flex flex-row space-x-2" id="chat0"><svg stroke="currentColor" class="dark:fill-white w-8 h-8" width="512" height="512" stroke-width="1.2" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m251.5 465.47c-2.2-0.79382-4.0658-1.4501-4.1462-1.4584-0.0804-8e-3 -11.213-14.603-24.738-32.433-13.526-17.83-25.783-33.355-27.239-34.5-2.5677-2.0197-3.6988-2.0819-37.881-2.0819-26.502 0-37.311-0.36376-43.615-1.4678-41.84-7.3275-73.739-38.446-83.067-81.032-1.0295-4.7003-1.3141-24.846-1.3141-93 0-87 0-87 2.3606-95.933 4.8879-18.497 12.559-32.605 24.787-45.587 9.2497-9.82 17.894-16.206 29.853-22.055 12.164-5.9487 22.475-8.7238 37-9.9582 14.341-1.2188 250.66-1.2188 265 0 14.525 1.2344 24.836 4.0095 37 9.9582 27.681 13.537 46.498 36.883 54.694 67.859 2.3061 8.7158 2.3061 8.7158 2.3061 95.716 0 91.914 0.0591 90.587-4.7047 105.5-6.7536 21.141-21.967 41.003-40.805 53.271-10.293 6.7034-17.59 10.036-29.49 13.469-8.8282 2.5465-9.7661 2.6072-49.147 3.1783-38.3 0.55544-40.249 0.67425-42.37 2.5822-1.2225 1.1-12.734 15.789-25.581 32.643-22.432 29.428-27.972 35.857-30.897 35.857-0.73782 0-1.9408 0.20627-2.6733 0.45837-0.73249 0.25211-3.1318-0.19112-5.3318-0.98494zm23.537-59.973c10.012-13.2 19.611-25.489 21.333-27.309s6.0438-4.7447 9.605-6.5c6.4748-3.1914 6.4748-3.1914 47.5-3.7939 45.163-0.66322 46.206-0.7918 60.055-7.4041 22.518-10.752 38.146-32.47 41.471-57.628 0.75544-5.7172 0.99241-33.69 0.74856-88.365-0.32659-73.226-0.50777-80.505-2.1398-85.964-7.6316-25.527-24.675-43.653-49.109-52.228-8-2.8078-8-2.8078-148.5-2.8078s-140.5 0-148.5 2.8078c-24.041 8.4376-41.205 26.366-48.686 50.854-2.2293 7.2975-2.2438 7.7874-2.5808 87.339-0.23126 54.58 0.01227 82.658 0.76639 88.365 3.3308 25.208 18.878 46.839 41.391 57.59 13.937 6.655 14.937 6.7788 60.109 7.4426 41 0.60245 41 0.60245 46.5 3.1926 3.025 1.4246 6.9095 3.7825 8.6322 5.2398 1.7227 1.4573 11.848 14.126 22.5 28.154 10.652 14.027 19.668 25.394 20.035 25.26 0.36691-0.13406 8.8583-11.044 18.87-24.244zm-113.54-158.39c-8.0155-2.0869-15.285-7.9248-19.132-15.365-0.91824-1.7757-1.8816-6.1929-2.1409-9.8161-0.7674-10.725 4.3824-20.221 13.724-25.305 18.472-10.054 40.351 2.8809 40.386 23.877 0.0238 14.063-10.461 25.41-24.837 26.879-2.75 0.28104-6.35 0.15949-8-0.2701zm87.306-0.4596c-4.9404-1.3809-6.2234-2.1606-11.678-7.0974-8.3404-7.5483-10.677-21.444-5.3274-31.684 4.7261-9.0467 14.275-14.868 24.388-14.868 19.531 0 32.73 20.777 24.459 38.5-2.5529 5.4705-9.0324 11.927-14.09 14.04-4.9964 2.0876-12.56 2.5602-17.752 1.1091zm88.987-3e-3c-6.3455-1.7731-12.159-5.9747-15.733-11.371-12.497-18.867 2.493-44.045 25.008-42.003 15.041 1.3638 25.769 13.807 24.706 28.656-0.25923 3.6232-1.2226 8.0404-2.1409 9.8161-6.175 11.941-19.731 18.285-31.84 14.902z"></path></svg><div class="w-full"><div class="px-4 py-2 space-y-2 rounded-t-lg bg-blue-600 text-white"><p>ðŸŒŸ Greetings from ZIO Chat! ðŸŒŸ Have questions about ZIO? Look no further! I&#x27;m here to be your ZIO guru. Whether you&#x27;re a seasoned pro or just starting out, I&#x27;ve got answers tailored just for you. Fire away with your ZIO queries, and I&#x27;ll hit you back with the best insights I&#x27;ve got. Let&#x27;s dive into the world of ZIO together!</p></div></div><form><button type="button" title="It was helpful to me!" class="dark:bg-[#242526] bg-gray-100 feedback-button inline-block"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.2" stroke="currentColor" class="dark:stroke-white w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M6.633 10.5c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 012.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 00.322-1.672V3a.75.75 0 01.75-.75A2.25 2.25 0 0116.5 4.5c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 01-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 00-1.423-.23H5.904M14.25 9h2.25M5.904 18.75c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 01-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 10.203 4.167 9.75 5 9.75h1.053c.472 0 .745.556.5.96a8.958 8.958 0 00-1.302 4.665c0 1.194.232 2.333.654 3.375z"></path></svg></button><button type="button" title="It didn&#x27;t help me at all!" class="dark:bg-[#242526] bg-gray-100 feedback-button inline-block"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.2" stroke="currentColor" class="dark:stroke-white w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M7.5 15h2.25m8.024-9.75c.011.05.028.1.052.148.591 1.2.924 2.55.924 3.977a8.96 8.96 0 01-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398C20.613 14.547 19.833 15 19 15h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 00.303-.54m.023-8.25H16.48a4.5 4.5 0 01-1.423-.23l-3.114-1.04a4.5 4.5 0 00-1.423-.23H6.504c-.618 0-1.217.247-1.605.729A11.95 11.95 0 002.25 12c0 .434.023.863.068 1.285C2.427 14.306 3.346 15 4.372 15h3.126c.618 0 .991.724.725 1.282A7.471 7.471 0 007.5 19.5a2.25 2.25 0 002.25 2.25.75.75 0 00.75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 002.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384"></path></svg></button></form></div><div id="anchor"></div></div><form class="flex bottom-5 left-5 right-5 h-10 mt-4"><input type="text" id="promptInput" class="w-full px-4 py-2 border-0 rounded-md text-base text-black dark:text-white bg-gray-200 dark:bg-[#2b2e30] focus:outline-none font-sans font-normal placeholder-gray-500" placeholder="Write a question about ZIO!"><button id="generateBtn" type="submit" class="px-6 rounded-md border-0 bg-black text-base text-white hover:bg-gray-900 focus:outline-none disabled:opacity-75 disabled:cursor-not-allowed font-sans font-normal">Send</button></form></div></div></div>
</body>
</html>