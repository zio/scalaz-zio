"use strict";(self.webpackChunkzio_site=self.webpackChunkzio_site||[]).push([[49721],{11026:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>p});const l=JSON.parse('{"id":"zio-http/examples/http-client-server","title":"HTTP Client-Server Example","description":"Client and Server Example","source":"@site/docs/zio-http/examples/http-client-server.md","sourceDirName":"zio-http/examples","slug":"/zio-http/examples/http-client-server","permalink":"/zio-http/examples/http-client-server","draft":false,"unlisted":false,"editUrl":"https://github.com/zio/zio/edit/series/2.x/docs/zio-http/examples/http-client-server.md","tags":[],"version":"current","frontMatter":{"id":"http-client-server","title":"HTTP Client-Server Example","sidebar_label":"HTTP Client-Server"},"sidebar":"ecosystem-sidebar","previous":{"title":"Hello World","permalink":"/zio-http/examples/hello-world"},"next":{"title":"Https Client and Server","permalink":"/zio-http/examples/https-client-server"}}');var r=n(74848),i=n(28453);const a={id:"http-client-server",title:"HTTP Client-Server Example",sidebar_label:"HTTP Client-Server"},s=void 0,o={},p=[{value:"Client and Server Example",id:"client-and-server-example",level:2},{value:"Simple Client Example",id:"simple-client-example",level:2}];function c(e){const t={code:"code",h2:"h2",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"client-and-server-example",children:"Client and Server Example"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",metastring:'title="zio-http-example/src/main/scala/example/ClientServer.scala" ',children:'package example\n\nimport zio.ZIOAppDefault\n\nimport zio.http._\n\nobject ClientServer extends ZIOAppDefault {\n  val url = URL.decode("http://localhost:8080/hello").toOption.get\n\n  val app = Routes(\n    Method.GET / "hello" -> handler(Response.text("hello")),\n    Method.GET / ""      -> handler(ZClient.batched(Request.get(url))),\n  ).sandbox\n\n  val run =\n    Server.serve(app).provide(Server.default, Client.default).exitCode\n}\n'})}),"\n",(0,r.jsx)(t.h2,{id:"simple-client-example",children:"Simple Client Example"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",metastring:'title="zio-http-example/src/main/scala/example/SimpleClient.scala" ',children:'package example\n\nimport zio._\n\nimport zio.http._\n\nobject SimpleClient extends ZIOAppDefault {\n  val url = URL.decode("https://jsonplaceholder.typicode.com/todos").toOption.get\n\n  val program = for {\n    client <- ZIO.service[Client]\n    res    <- client.url(url).batched(Request.get("/"))\n    data   <- res.body.asString\n    _      <- Console.printLine(data)\n  } yield ()\n\n  override val run = program.provide(Client.default)\n\n}\n'})})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>s});var l=n(96540);const r={},i=l.createContext(r);function a(e){const t=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),l.createElement(i.Provider,{value:t},e.children)}}}]);