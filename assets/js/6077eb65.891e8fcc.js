"use strict";(self.webpackChunkzio_site=self.webpackChunkzio_site||[]).push([[42641],{28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>c});var s=i(96540);const t={},o=s.createContext(t);function a(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(o.Provider,{value:n},e.children)}},75652:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>r});const s=JSON.parse('{"id":"zio-cli/options","title":"Options","description":"The Options data type models command-line options. Contrary to arguments, options are named, position-independent parameters passed to a command-line program that modify its behavior. Note that the user must specify the name of the option just before its content. As an example, the Git CLI has a command named git checkout that allows changing between different development branches. It has different options that modify the functionality of the command like option quiet. This option allows suppressing feedback messages. It can be specified in the following manners:","source":"@site/docs/zio-cli/options.md","sourceDirName":"zio-cli","slug":"/zio-cli/options","permalink":"/zio-cli/options","draft":false,"unlisted":false,"editUrl":"https://github.com/zio/zio/edit/series/2.x/docs/zio-cli/options.md","tags":[],"version":"current","frontMatter":{"id":"options","title":"Options"},"sidebar":"ecosystem-sidebar","previous":{"title":"Args","permalink":"/zio-cli/args"},"next":{"title":"Commands","permalink":"/zio-cli/commands"}}');var t=i(74848),o=i(28453);const a={id:"options",title:"Options"},c=void 0,l={},r=[{value:"Construction of basic Options",id:"construction-of-basic-options",level:2},{value:"Boolean Options",id:"boolean-options",level:3},{value:"Enumeration Options",id:"enumeration-options",level:3},{value:"Path Options",id:"path-options",level:3},{value:"Text Options",id:"text-options",level:3},{value:"Numeric Options",id:"numeric-options",level:3},{value:"Date/Time Options",id:"datetime-options",level:3},{value:"Combining and transforming options",id:"combining-and-transforming-options",level:3},{value:"Adding Options",id:"adding-options",level:3},{value:"Choosing between Options",id:"choosing-between-options",level:3},{value:"Transforming Options",id:"transforming-options",level:3},{value:"Making an alias",id:"making-an-alias",level:3},{value:"Adding help",id:"adding-help",level:3},{value:"Example",id:"example",level:3}];function d(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"Options"})," data type models command-line options. Contrary to arguments, options are named, position-independent parameters passed to a command-line program that modify its behavior. Note that the user must specify the name of the option just before its content. As an example, the Git CLI has a command named ",(0,t.jsx)(n.code,{children:"git checkout"})," that allows changing between different development branches. It has different options that modify the functionality of the command like option ",(0,t.jsx)(n.code,{children:"quiet"}),". This option allows suppressing feedback messages. It can be specified in the following manners:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"git checkout --quiet\ngit checkout -q\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Both ",(0,t.jsx)(n.code,{children:"--quiet"})," and ",(0,t.jsx)(n.code,{children:"-q"})," refer to the same option. ",(0,t.jsx)(n.code,{children:"-q"})," is the alias of ",(0,t.jsx)(n.code,{children:"quiet"}),", a shorter form of the option. Note that the alias is preceded only by ",(0,t.jsx)(n.code,{children:"-"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["In ",(0,t.jsx)(n.strong,{children:"ZIO CLI"}),", Options are represented by instances of class ",(0,t.jsx)(n.code,{children:"Options[_]"}),". ",(0,t.jsx)(n.code,{children:"Options[A]"})," is a description of the process of constructing an instance of ",(0,t.jsx)(n.code,{children:"A"})," from a valid input of the CLI. It is not yet a specified option for the CLI. In other words, an instance of ",(0,t.jsx)(n.code,{children:"Options[A]"})," defines a collection of valid commands and a way to construct a value ",(0,t.jsx)(n.code,{children:"A"})," from them."]}),"\n",(0,t.jsx)(n.h2,{id:"construction-of-basic-options",children:"Construction of basic Options"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"ZIO CLI"})," offers a variety of methods to create basic ",(0,t.jsx)(n.code,{children:"Options"})," that take a string from the user as input and transform it into a value of the corresponding type. The benefit of using these methods is that it is automatically checked if they describe a value of the given type and, in that case, are transformed into it. In case of an invalid input, a ",(0,t.jsx)(n.code,{children:"ValidationError"})," will be thrown."]}),"\n",(0,t.jsxs)(n.p,{children:["The following methods construct an ",(0,t.jsx)(n.code,{children:"Options"})," with a ",(0,t.jsx)(n.code,{children:"name"})," that requires an input of the corresponding type from the user. Observe that for ",(0,t.jsx)(n.code,{children:"Options"})," it is mandatory to specify the ",(0,t.jsx)(n.code,{children:"name"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"boolean-options",children:"Boolean Options"}),"\n",(0,t.jsxs)(n.p,{children:["Produces an ",(0,t.jsx)(n.code,{children:"Options[Boolean]"}),". It accepts as input ",(0,t.jsx)(n.code,{children:"true"})," or ",(0,t.jsx)(n.code,{children:"false"}),", while other pieces of text are not valid."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:'import zio.cli._\n\nval name = "name"\n\nOptions.boolean(name)\n'})}),"\n",(0,t.jsx)(n.h3,{id:"enumeration-options",children:"Enumeration Options"}),"\n",(0,t.jsxs)(n.p,{children:["If we desire to allow the user to choose between different options, we can use the ",(0,t.jsx)(n.code,{children:"enumeration"})," method. It must specify a name and tuples ",(0,t.jsx)(n.code,{children:"(String, A)"})," to create an instance of ",(0,t.jsx)(n.code,{children:"Options[A]"}),". A valid input from the user is a key of a tuple and it will produce the corresponding value. We can use this method if there are different ways to execute a command. As an example, the command ",(0,t.jsx)(n.code,{children:"git commit"})," allows choosing between options ",(0,t.jsx)(n.code,{children:"--all"}),", ",(0,t.jsx)(n.code,{children:"--interactive"})," and ",(0,t.jsx)(n.code,{children:"--patch"})," that control how the user specifies the changes to be committed. One way to implement this would use ",(0,t.jsx)(n.code,{children:"enumeration"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:'sealed trait Mode\ncase class All() extends Mode\ncase class Interactive() extends Mode\ncase class Patch() extends Mode\n\nOptions.enumeration[Mode]("mode")(("all", All()), ("interactive", Interactive()), ("patch", Patch()))\n'})}),"\n",(0,t.jsx)(n.p,{children:"The output produced by the HelpDoc is"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"OPTIONS\n\n  --mode all | interactive | patch\n    One of the following cases: all, interactive, patch.\n"})}),"\n",(0,t.jsx)(n.h3,{id:"path-options",children:"Path Options"}),"\n",(0,t.jsxs)(n.p,{children:["They are used to produce an ",(0,t.jsx)(n.code,{children:"Options[Path]"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[java.nio.file.Path]"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.file(name) // Used for a file\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[java.nio.file.Path]"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.directory(name) // Used for a directory\n"})}),"\n",(0,t.jsxs)(n.p,{children:["By default, the ",(0,t.jsx)(n.code,{children:"CliApp"})," accepts paths pointing to files or directories that might or not exist. If you need to work with one of them exclusively you can use the type ",(0,t.jsx)(n.code,{children:"Exists"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"// Path can point to both existing or non-existing files or directories\nOptions.file(name, exists = Exists.Either)\nOptions.directory(name, exists = Exists.Either)\n\n// Path must point to existing files or directories\nOptions.file(name, exists = Exists.Yes)\nOptions.directory(name, exists = Exists.Yes)\n\n// Path must point to non-existing files or directories\nOptions.file(name, exists = Exists.Yes)\nOptions.directory(name, exists = Exists.Yes)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"text-options",children:"Text Options"}),"\n",(0,t.jsxs)(n.p,{children:["Produces an ",(0,t.jsx)(n.code,{children:"Options[String]"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.text(name)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"numeric-options",children:"Numeric Options"}),"\n",(0,t.jsxs)(n.p,{children:["Numeric ",(0,t.jsx)(n.code,{children:"Options"})," produce ",(0,t.jsx)(n.code,{children:"BigInt"})," and ",(0,t.jsx)(n.code,{children:"BigDecimal"}),", so they can represent numbers of arbitrary size and precision. Note that the CLI checks that the input really represents a number."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[BigDecimal]"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.decimal(name)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[BigInt]"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.integer(name)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"datetime-options",children:"Date/Time Options"}),"\n",(0,t.jsxs)(n.p,{children:["The following methods produce ",(0,t.jsx)(n.code,{children:"Options"})," whose type parameter is a Date/Time type of the ",(0,t.jsx)(n.code,{children:"java.time"})," library."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[java.time.Duration]"}),". The input must be a time-based amount of time in the ISO-8601 format, such as 'P1DT2H3M'."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.duration(name)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[java.time.Instant]"}),". The input must be an instant in time in UTC format, such as 2007-12-03T10:15:30.00Z."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.instant(name)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[java.time.LocalDate]"}),". The input must be a date in ISO_LOCAL_DATE format, such as 2007-12-03."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.localDate(name)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[java.time.LocalDateTime]"}),". The input must be a date-time without a time-zone in the ISO-8601 format, such as 2007-12-03T10:15:30."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.localDateTime(name)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[java.time.LocalTime]"}),". The input must be a time without a time-zone in the ISO-8601 format, such as 10:15:30."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.localTime(name)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[java.time.MonthDay]"}),". The input must be a month-day in the ISO-8601 format such as 12-03."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.monthDay(name)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[java.time.OffsetDateTime]"}),". The input must be a date-time with an offset from UTC/Greenwich in the ISO-8601 format, such as 2007-12-03T10:15:30+01:00."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.offsetDateTime(name)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[java.time.OffsetTime]"}),". The input must be a time with an offset from UTC/Greenwich in the ISO-8601 format, such as 10:15:30+01:00."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.offsetTime(name)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[java.time.Period]"}),". The input must be a date-based amount of time in the ISO-8601 format, such as 'P1Y2M3D'."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.period(name)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[java.time.Year]"}),". The input must be a year in the ISO-8601 format, such as 2007."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.year(name)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[java.time.YearMonth]"}),". The input must be a year-month in the ISO-8601 format, such as 2007-12."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.yearMonth(name)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[java.time.ZonedDateTime]"}),". The input must be a date-time with a time-zone in the ISO-8601 format, such as 2007-12-03T10:15:30+01:00 Europe/Paris."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.zonedDateTime(name)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[java.time.ZoneId]"}),". The input must be a time-zone ID, such as Europe/Paris."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.zoneId(name)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Produces ",(0,t.jsx)(n.code,{children:"Options[java.time.ZoneOffset]"}),". The input must be a time-zone offset from Greenwich/UTC, such as +02:00."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"Options.zoneOffset(name)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"combining-and-transforming-options",children:"Combining and transforming options"}),"\n",(0,t.jsx)(n.p,{children:"We can use the following methods to create more complex Options:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"trait Options[A] {\n  def ++[A1 >: A, B](that: Options[B]): Options[(A1, B)]\n  def |[A1 >: A](that: Options[A1]): Options[A1]\n  def orElse[A1 >: A](that: Options[A1]): Options[A1] // same as |\n  def orElseEither[B](that: Options[B]): Options[Either[A, B]] \n  def map[B](f: A => B): Options[B] \n  def optional: Options[Option[A]] \n\n  // Creates options with different aliases\n  def alias(name: String, names: String*): Options[A]\n\n  // Creates options that have a default value\n  def withDefault[A1 >: A](value: A1): Options[A1]\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"adding-options",children:"Adding Options"}),"\n",(0,t.jsxs)(n.p,{children:["Operator ",(0,t.jsx)(n.code,{children:"++"})," can be used to zip two options. It can be used to chain two options in a tuple. For example, ",(0,t.jsx)(n.code,{children:"git checkout"})," command has options ",(0,t.jsx)(n.code,{children:"--quiet"})," and ",(0,t.jsx)(n.code,{children:"--force"}),". The options for this command can be created in the following manner:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:'val checkoutOptions = Options.boolean("quiet") ++ Options.boolean("force")\n'})}),"\n",(0,t.jsx)(n.p,{children:"The output of the CLI help will be:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"COMMANDS\n\n  checkout [--quiet] [--force] \n"})}),"\n",(0,t.jsx)(n.h3,{id:"choosing-between-options",children:"Choosing between Options"}),"\n",(0,t.jsxs)(n.p,{children:["If we have more than one option and we need only one, we can create a new ",(0,t.jsx)(n.code,{children:"Options"})," that allows to choose between two options using methods ",(0,t.jsx)(n.code,{children:"|"}),", ",(0,t.jsx)(n.code,{children:"orElse"})," and ",(0,t.jsx)(n.code,{children:"orElseEither"}),". The difference between these three methods lies in the type parameter of the new ",(0,t.jsx)(n.code,{children:"Options"}),". The user will be able to enter only the ",(0,t.jsx)(n.code,{children:"Options"})," that he wants, triggering the desired functionality."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Method ",(0,t.jsx)(n.code,{children:"orElse"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"|"})," is just an alias for ",(0,t.jsx)(n.code,{children:"orElse"}),". In the Git CLI, it is possible to choose between different options. This can be realized using ",(0,t.jsx)(n.code,{children:"orElse"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:'import zio.cli._\nimport java.nio.file.Path\n\nval all = Options.boolean("all")\nval interactive = Options.boolean("all")\nval patch = Options.boolean("all")\n\nval orElseOption: Options[Boolean] = all | interactive | patch\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Method ",(0,t.jsx)(n.code,{children:"orElseEither"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["This method wraps the types in an ",(0,t.jsx)(n.code,{children:"Either"})," class. This will be preferred if the types are very different."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"val orElseEitherOption: Options[Either[Either[Boolean, Boolean], Boolean]] = all orElseEither interactive orElseEither patch\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This is another way to implement the ",(0,t.jsx)(n.code,{children:"[--all | --interactive | --patch]"})," option of command ",(0,t.jsx)(n.code,{children:"git commit"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"transforming-options",children:"Transforming Options"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Method ",(0,t.jsx)(n.code,{children:"map"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["It allows to transform the type parameter of ",(0,t.jsx)(n.code,{children:"Options[A]"}),". It takes a function ",(0,t.jsx)(n.code,{children:"f: A => B"})," as parameter that is applied when processing the input of a user in a CLI app. This makes easier to implement the business logic of a CLI app. This allows to implement ",(0,t.jsx)(n.code,{children:"[--all | --interactive | --patch]"})," option of command ",(0,t.jsx)(n.code,{children:"git commit"})," using ",(0,t.jsx)(n.code,{children:"orElse"}),". This is not possible without method ",(0,t.jsx)(n.code,{children:"map"}),", because the result of using ",(0,t.jsx)(n.code,{children:"orElse"})," is an option that returns true if some of the options are employed."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:'import zio.cli._\n\nsealed trait Mode\ncase class All() extends Mode\ncase class Interactive() extends Mode\ncase class Patch() extends Mode\n\nval all = Options.boolean("all").map(_ => All())\nval interactive = Options.boolean("all").map(_ => Interactive())\nval patch = Options.boolean("all").map(_ => Patch())\n\nval alternative: Options[Mode] = all | interactive | patch\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Method ",(0,t.jsx)(n.code,{children:"optional"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["It wraps the option in an ",(0,t.jsx)(n.code,{children:"Option"})," class. The resulting ",(0,t.jsx)(n.code,{children:"Options"})," is now optional, so the user can choose to specify it or not. If it is specified, it will be wrapped in ",(0,t.jsx)(n.code,{children:"Some()"}),". Without input from the user, it will produce ",(0,t.jsx)(n.code,{children:"None"}),". For example, if we are designing a command-line application to manage databases, we might desire to retrieve data from a particular database. The user could specify an additional backup database. If there were an error connecting with the main database, the CLI app would try to retrieve data from the backup database."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:'val database = Options.file("database")\nval backup = Options.file("backup").optional\nval retrieve = Command("retrieve", database ++ backup)\n'})}),"\n",(0,t.jsxs)(n.p,{children:["The HelpDoc of ",(0,t.jsx)(n.code,{children:"optionsDatabase"})," will be"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"COMMANDS\n\n  retrieve --database file [--backup file]  \n"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"[]"})," denotes that the parameter is optional."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Method ",(0,t.jsx)(n.code,{children:"withDefault"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"It creates an option that will have a default parameter in case that the user does not input the option. It can be used, for example, to specify a default directory in which a CLI application may perform some task if the user does not specify another one."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:'val directory = Options.directory("directory").withDefault("C:\\\\Users\\\\YourUser\\\\Documents")\n'})}),"\n",(0,t.jsx)(n.p,{children:"The output produced by the HelpDoc is"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"OPTIONS\n\n  --directory directory\n    A directory.\n\n    This setting is optional. Default: 'C:\\Users\\YourUser\\Documents'.\n"})}),"\n",(0,t.jsx)(n.h3,{id:"making-an-alias",children:"Making an alias"}),"\n",(0,t.jsxs)(n.p,{children:["Using method ",(0,t.jsx)(n.code,{children:"alias"})," it is possible to give a shorter form of the name of the ",(0,t.jsx)(n.code,{children:"Options"}),". This is used to make easier the input of options for the user. We will make an alias for option ",(0,t.jsx)(n.code,{children:"--directory"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:'val directoryWithAlias = directory.alias("d")\n'})}),"\n",(0,t.jsx)(n.p,{children:"The output produced by the HelpDoc in this case is"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"OPTIONS\n\n  (-d, --directory directory)\n    A directory.\n\n    This setting is optional. Default: 'C:\\Users\\YourUser\\Documents'.\n"})}),"\n",(0,t.jsx)(n.h3,{id:"adding-help",children:"Adding help"}),"\n",(0,t.jsxs)(n.p,{children:["Method ",(0,t.jsx)(n.code,{children:"??"})," allows to add information about an options. The string is added after the current ",(0,t.jsx)(n.code,{children:"HelpDoc"})," of the ",(0,t.jsx)(n.code,{children:"Options"}),". We are going to recreate the ",(0,t.jsx)(n.code,{children:"--quiet"})," option of ",(0,t.jsx)(n.code,{children:"git checkout"})," to observe the effect of using ",(0,t.jsx)(n.code,{children:"??"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"val quiet = Options.boolean(\"quiet\")\n  \n/* HelpDoc of quiet:\n *\n * --quiet\n *   A true or false value.\n * \n *   This setting is optional. Default: 'false'.\n */\n\n"})}),"\n",(0,t.jsx)(n.p,{children:"Now we add a description of the option:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"val quietWithHelp = quiet ?? \"Suppress feedback messages.\"\n\n/* HelpDoc of quietWithHelp:\n *\n * --quiet\n *   A true or false value.\n * \n *   Suppress feedback messages.\n * \n *   This setting is optional. Default: 'false'.\n */\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,t.jsxs)(n.p,{children:["As an example, we are going to construct an instance of ",(0,t.jsx)(n.code,{children:"Options[Git]"})," that describes the options of the command ",(0,t.jsx)(n.code,{children:"git commit"}),". We are going to implement only an option ",(0,t.jsx)(n.code,{children:"--msg"})," that includes a commit message and alternatives between ",(0,t.jsx)(n.code,{children:"-a"}),", ",(0,t.jsx)(n.code,{children:"--interactive"})," and ",(0,t.jsx)(n.code,{children:"--patch"}),". First, we create the basic options. Observe how we add an alias to ",(0,t.jsx)(n.code,{children:"all"}),"and ",(0,t.jsx)(n.code,{children:"msg"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:'import zio.cli._\n\nval all = Options.boolean("all").alias("a")\nval interactive = Options.boolean("interactive")\nval patch = Options.boolean("patch")\n\nval msg = Options.text("msg").alias("m")\n'})}),"\n",(0,t.jsx)(n.p,{children:"Then we combine options:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["using ",(0,t.jsx)(n.code,{children:"orElse"})," to combine ",(0,t.jsx)(n.code,{children:"all"}),", ",(0,t.jsx)(n.code,{children:"interactive"})," and ",(0,t.jsx)(n.code,{children:"patch"}),","]}),"\n",(0,t.jsxs)(n.li,{children:["adding it to ",(0,t.jsx)(n.code,{children:"msg"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:"\nval alternative = all | interactive | patch\n\nval options = alternative ++ msg\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The output of the HelpDoc of ",(0,t.jsx)(n.code,{children:"options"})," is:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"USAGE\n\n  $ commit [(-a, -all)]|[--interactive]|[--patch] (-m, --msg text)\n\nOPTIONS\n\n  (-a, --all)\n    A true or false value.\n\n    This setting is optional. Default: 'false'.\n\n  --interactive\n    A true or false value.\n\n    This setting is optional. Default: 'false'.\n\n  --patch\n    A true or false value.\n\n    This setting is optional. Default: 'false'.\n\n  (-m, --msg text)\n    A user-defined piece of text.\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);