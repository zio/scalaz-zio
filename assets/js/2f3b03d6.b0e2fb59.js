"use strict";(self.webpackChunkzio_site=self.webpackChunkzio_site||[]).push([[42885],{79471:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"zio-json/interop/akka-http","title":"Akka Http Interop","description":"An interop module is provided for Akka Http 10.2.4","source":"@site/docs/zio-json/interop/akka-http.md","sourceDirName":"zio-json/interop","slug":"/zio-json/interop/akka-http","permalink":"/zio-json/interop/akka-http","draft":false,"unlisted":false,"editUrl":"https://github.com/zio/zio/edit/series/2.x/docs/zio-json/interop/akka-http.md","tags":[],"version":"current","frontMatter":{"id":"akka-http","title":"Akka Http Interop"},"sidebar":"ecosystem-sidebar","previous":{"title":"Interop modules","permalink":"/zio-json/interop/"},"next":{"title":"HTTP4s Interop","permalink":"/zio-json/interop/http4s"}}');var r=n(74848),a=n(28453);const o={id:"akka-http",title:"Akka Http Interop"},s=void 0,l={},p=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Example project",id:"example-project",level:2}];function c(e){const t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["An interop module is provided for ",(0,r.jsx)(t.a,{href:"https://doc.akka.io/docs/akka-http/10.2.4/index.html",children:"Akka Http 10.2.4"})]}),"\n",(0,r.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'libraryDependencies ++= Seq(\n  "de.heikoseeberger" %% "akka-http-zio-json" % "1.36.0",\n)\n'})}),"\n",(0,r.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:"import akka.actor.ActorSystem\nimport akka.http.scaladsl.marshalling.Marshal\nimport akka.http.scaladsl.model.HttpEntity\nimport akka.http.scaladsl.unmarshalling.Unmarshal\nimport de.heikoseeberger.akkahttpziojson.ZioJsonSupport\nimport zio.{ Task, ZIO }\nimport zio.json._\n\nfinal case class Greeting(greeting: String)\n\nobject Greeting {\n  import ZioJsonSupport._\n\n  implicit val decoder: JsonDecoder[Greeting] =\n    DeriveJsonDecoder.gen[Greeting]\n\n  implicit val encoder: JsonEncoder[Greeting] =\n    DeriveJsonEncoder.gen[Greeting]\n\n  //    automatically derived from the zio-json codecs\n\n  //    implicit val akkaMarshaller: ToEntityMarshaller[Greeting] =\n  //      implicitly[ToEntityMarshaller[Greeting]]\n  //\n  //    implicit val akkaUnmarshaller: FromEntityUnmarshaller[Greeting] =\n  //      implicitly[FromEntityUnmarshaller[Greeting]]\n\n  implicit val system = ActorSystem()\n\n  // under the hood, Akka Http uses marshallers and unmarshallers for Json http entities\n\n  def marshallGreeting(greeting: Greeting): Task[HttpEntity] =\n    ZIO.fromFuture(implicit ec => Marshal(greeting).to[HttpEntity])\n\n  def unmarshallGreeting(entity: HttpEntity): Task[Greeting] =\n    ZIO.fromFuture(implicit ec => Unmarshal(entity).to[Greeting])\n}\n"})}),"\n",(0,r.jsx)(t.h2,{id:"example-project",children:"Example project"}),"\n",(0,r.jsxs)(t.p,{children:["A fully working example ",(0,r.jsx)(t.a,{href:"https://github.com/hseeberger/akka-http-json/blob/master/akka-http-zio-json/src/test/scala/de/heikoseeberger/akkahttpziojson/ExampleApp.scala",children:"can be found here"}),"."]})]})}function d(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>s});var i=n(96540);const r={},a=i.createContext(r);function o(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(a.Provider,{value:t},e.children)}}}]);