"use strict";(self.webpackChunkzio_site=self.webpackChunkzio_site||[]).push([[98014],{83906:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"zio-http/index","title":"Introduction to ZIO HTTP","description":"ZIO HTTP is a scala library for building http apps. It is powered by ZIO and Netty and aims at being the defacto solution for writing, highly scalable and performant web applications using idiomatic Scala.","source":"@site/docs/zio-http/index.md","sourceDirName":"zio-http","slug":"/zio-http/","permalink":"/zio-http/","draft":false,"unlisted":false,"editUrl":"https://github.com/zio/zio/edit/series/2.x/docs/zio-http/index.md","tags":[],"version":"current","frontMatter":{"id":"index","title":"Introduction to ZIO HTTP","sidebar_label":"ZIO HTTP"},"sidebar":"ecosystem-sidebar","previous":{"title":"Environment","permalink":"/zio-ftp/environment"},"next":{"title":"Installation","permalink":"/zio-http/installation"}}');var s=n(74848),r=n(28453);const o={id:"index",title:"Introduction to ZIO HTTP",sidebar_label:"ZIO HTTP"},a=void 0,l={},d=[{value:"Installation",id:"installation",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Greeting Server",id:"greeting-server",level:3},{value:"Greeting Client",id:"greeting-client",level:3}];function c(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["ZIO HTTP is a scala library for building http apps. It is powered by ZIO and ",(0,s.jsx)(t.a,{href:"https://netty.io/",children:"Netty"})," and aims at being the defacto solution for writing, highly scalable and performant web applications using idiomatic Scala."]}),"\n",(0,s.jsxs)(t.p,{children:["ZIO HTTP is designed in terms of ",(0,s.jsx)(t.strong,{children:"HTTP as function"}),", where both server and client are a function from a request to a response, with a focus on type safety, composability, and testability."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://github.com/zio/zio/wiki/Project-Stages",children:(0,s.jsx)(t.img,{src:"https://img.shields.io/badge/Project%20Stage-Development-green.svg",alt:"Development"})})," ",(0,s.jsx)(t.img,{src:"https://github.com/zio/zio-http/workflows/Continuous%20Integration/badge.svg",alt:"CI Badge"})," ",(0,s.jsx)(t.a,{href:"https://oss.sonatype.org/content/repositories/releases/dev/zio/zio-http_2.13/",children:(0,s.jsx)(t.img,{src:"https://img.shields.io/nexus/r/https/oss.sonatype.org/dev.zio/zio-http_2.13.svg?label=Sonatype%20Release",alt:"Sonatype Releases"})})," ",(0,s.jsx)(t.a,{href:"https://oss.sonatype.org/content/repositories/snapshots/dev/zio/zio-http_2.13/",children:(0,s.jsx)(t.img,{src:"https://img.shields.io/nexus/s/https/oss.sonatype.org/dev.zio/zio-http_2.13.svg?label=Sonatype%20Snapshot",alt:"Sonatype Snapshots"})})," ",(0,s.jsx)(t.a,{href:"https://javadoc.io/doc/dev.zio/zio-http-docs_2.13",children:(0,s.jsx)(t.img,{src:"https://javadoc.io/badge2/dev.zio/zio-http-docs_2.13/javadoc.svg",alt:"javadoc"})})," ",(0,s.jsx)(t.a,{href:"https://github.com/zio/zio-http",children:(0,s.jsx)(t.img,{src:"https://img.shields.io/github/stars/zio/zio-http?style=social",alt:"ZIO Http"})})]}),"\n",(0,s.jsx)(t.p,{children:"Some of the key features of ZIO HTTP are:"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"ZIO Native"}),": ZIO HTTP is built atop ZIO, a type-safe, composable, and asynchronous effect system for Scala. It inherits all the benefits of ZIO, including testability, composability, and type safety."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Cloud-Native"}),": ZIO HTTP is designed for cloud-native environments and supports building highly scalable and performant web applications. Built atop ZIO, it features built-in support for concurrency, parallelism, resource management, error handling, structured logging, configuration management, and metrics instrumentation."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Imperative and Declarative Endpoints"}),": ZIO HTTP provides a declarative API for defining HTTP endpoints besides the imperative API. With imperative endpoints, both the shape of the endpoint and the logic are defined together, while with declarative endpoints, the description of the endpoint is separated from its logic. Developers can choose the style that best fit their needs."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Type-Driven API Design"}),": Beside the fact that ZIO HTTP supports declarative endpoint descriptions, it also provides a type-driven API design that leverages Scala's type system to ensure correctness and safety at compile time. So the implementation of the endpoint is type-checked against the description of the endpoint."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Middleware Support"}),": ZIO HTTP offers middleware support for incorporating cross-cutting concerns such as logging, metrics, authentication, and more into your services."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Error Handling"}),": Built-in support exists for handling errors at the HTTP layer, distinguishing between handled and unhandled errors."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"WebSockets"}),": Built-in support for WebSockets allows for the creation of real-time applications using ZIO HTTP."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Testkit"}),": ZIO HTTP provides first-class testing utilities that facilitate test writing without requiring a live server instance."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Interoperability"}),": Interoperability with existing Scala/Java libraries is provided, enabling seamless integration with functionality from the Scala/Java ecosystem through the importation of blocking and non-blocking operations."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"JSON and Binary Codecs"}),": Built-in support for ZIO Schema enables encoding and decoding of request/response bodies, supporting various data types including JSON, Protobuf, Avro, and Thrift."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Template System"}),": A built-in DSL facilitates writing HTML templates using Scala code."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"OpenAPI Support"}),": Built-in support is available for generating OpenAPI documentation for HTTP applications, and conversely, for generating HTTP endpoints from OpenAPI documentation."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"ZIO HTTP CLI"}),": Command-line applications can be built to interact with HTTP APIs by leveraging the power of ",(0,s.jsx)(t.a,{href:"https://zio.dev/zio-cli",children:"ZIO CLI"})," and ZIO HTTP."]}),"\n",(0,s.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsxs)(t.p,{children:["Setup via ",(0,s.jsx)(t.code,{children:"build.sbt"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-scala",children:'libraryDependencies += "dev.zio" %% "zio-http" % "3.0.1"\n'})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"NOTES ON VERSIONING:"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Older library versions ",(0,s.jsx)(t.code,{children:"1.x"})," or ",(0,s.jsx)(t.code,{children:"2.x"})," with organization ",(0,s.jsx)(t.code,{children:"io.d11"})," of ZIO HTTP are derived from Dream11, the organization that donated ZIO HTTP to the ZIO organization in 2022."]}),"\n",(0,s.jsxs)(t.li,{children:["Newer library versions, starting in 2023 and resulting from the ",(0,s.jsx)(t.a,{href:"https://dev.zio",children:"ZIO organization"})," started with ",(0,s.jsx)(t.code,{children:"0.0.x"}),", reaching ",(0,s.jsx)(t.code,{children:"1.0.0"})," release candidates in April of 2023"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,s.jsx)(t.p,{children:"ZIO HTTP provides a simple and expressive API for building HTTP applications. It supports both server and client-side APIs. Let's see how it is simple to build a greeting server and call it using the client API."}),"\n",(0,s.jsx)(t.h3,{id:"greeting-server",children:"Greeting Server"}),"\n",(0,s.jsxs)(t.p,{children:["The following example demonstrates how to build a simple greeting server. It contains 2 routes: one on the root\npath, it responds with a fixed string, and one route on the path ",(0,s.jsx)(t.code,{children:"/greet"})," that responds with a greeting message\nbased on the query parameter ",(0,s.jsx)(t.code,{children:"name"}),"."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-scala",children:'import zio._\nimport zio.http._\n\nobject GreetingServer extends ZIOAppDefault {\n  val routes =\n    Routes(\n      Method.GET / Root -> handler(Response.text("Greetings at your service")),\n      Method.GET / "greet" -> handler { (req: Request) =>\n        val name = req.queryParamToOrElse("name", "World")\n        Response.text(s"Hello $name!")\n      }\n    )\n\n  def run = Server.serve(routes).provide(Server.default)\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"greeting-client",children:"Greeting Client"}),"\n",(0,s.jsx)(t.p,{children:"The following example demonstrates how to call the greeting server using the ZIO HTTP client:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-scala",children:'import zio._\nimport zio.http._\n\nobject GreetingClient extends ZIOAppDefault {\n\n  val app =\n    for {\n      client   <- ZIO.serviceWith[Client](_.host("localhost").port(8080))\n      request  =  Request.get("greet").addQueryParam("name", "John")\n      response <- client.batched(request)\n      _        <- response.body.asString.debug("Response")\n    } yield ()\n\n  def run = app.provide(Client.default)\n}\n'})})]})}function p(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var i=n(96540);const s={},r=i.createContext(s);function o(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);