"use strict";(self.webpackChunkzio_site=self.webpackChunkzio_site||[]).push([[18909],{25882:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>l,frontMatter:()=>i,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"zio-http/reference/routing/route_pattern","title":"RoutePattern","description":"RoutePattern defines a pattern for matching routes by examining both the HTTP method and the path. In addition to specifying a method, patterns contain segment patterns, which can consist of literals, integers, longs, and other segment types.","source":"@site/docs/zio-http/reference/routing/route_pattern.md","sourceDirName":"zio-http/reference/routing","slug":"/zio-http/reference/routing/route_pattern","permalink":"/zio-http/reference/routing/route_pattern","draft":false,"unlisted":false,"editUrl":"https://github.com/zio/zio/edit/series/2.x/docs/zio-http/reference/routing/route_pattern.md","tags":[],"version":"current","frontMatter":{"id":"route_pattern","title":"RoutePattern"},"sidebar":"ecosystem-sidebar","previous":{"title":"Routes","permalink":"/zio-http/reference/routing/routes"},"next":{"title":"PathCodec","permalink":"/zio-http/reference/routing/path_codec"}}');var r=n(74848),o=n(28453);const i={id:"route_pattern",title:"RoutePattern"},c=void 0,d={},a=[{value:"Building RoutePatterns",id:"building-routepatterns",level:2},{value:"Matching Methods",id:"matching-methods",level:2}];function h(e){const t={code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"RoutePattern"})," defines a pattern for matching routes by examining both the HTTP method and the path. In addition to specifying a method, patterns contain segment patterns, which can consist of literals, integers, longs, and other segment types."]}),"\n",(0,r.jsxs)(t.p,{children:["A ",(0,r.jsx)(t.code,{children:"RoutePattern"})," is composed of a ",(0,r.jsx)(t.code,{children:"Method"})," and a ",(0,r.jsx)(t.code,{children:"PathCodec"}),":"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:"case class RoutePattern[A](method: Method, pathCodec: PathCodec[A])\n"})}),"\n",(0,r.jsxs)(t.p,{children:["To create a ",(0,r.jsx)(t.code,{children:"Route"})," we need to create a ",(0,r.jsx)(t.code,{children:"RoutePattern"})," and then bind it to a handler using the ",(0,r.jsx)(t.code,{children:"->"})," operator:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'import zio.http._\n\nRoutes(\n  Method.GET / "health-check" -> Handler.ok,\n)\n'})}),"\n",(0,r.jsxs)(t.p,{children:["In the above example, ",(0,r.jsx)(t.code,{children:'Method.Get / "health-check"'})," represents a ",(0,r.jsx)(t.code,{children:"RoutePattern"})," used to match incoming requests with the appropriate path and method."]}),"\n",(0,r.jsx)(t.h2,{id:"building-routepatterns",children:"Building RoutePatterns"}),"\n",(0,r.jsxs)(t.p,{children:["Typically, the entry point for creating a route pattern is ",(0,r.jsx)(t.code,{children:"Method"}),":"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'// GET /users\nval pattern: RoutePattern[Unit] =\n  Method.GET / "users"\n'})}),"\n",(0,r.jsxs)(t.p,{children:["To match a path segment, various methods like ",(0,r.jsx)(t.code,{children:"string"}),", ",(0,r.jsx)(t.code,{children:"int"}),", ",(0,r.jsx)(t.code,{children:"long"}),", and ",(0,r.jsx)(t.code,{children:"uuid"})," are available."]}),"\n",(0,r.jsxs)(t.p,{children:["For example, let's enhance the previous example to match a user id of type ",(0,r.jsx)(t.code,{children:"Int"}),":"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'// GET /users/:user-id\nval pattern2: RoutePattern[Int] =\n  Method.GET / "users" / int("user-id")\n'})}),"\n",(0,r.jsxs)(t.p,{children:["The type of the ",(0,r.jsx)(t.code,{children:"RoutePattern"})," becomes ",(0,r.jsx)(t.code,{children:"Int"})," because it matches a path segment of type ",(0,r.jsx)(t.code,{children:"Int"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["Multiple path segments can be matched by combining multiple ",(0,r.jsx)(t.code,{children:"PathCodec"})," values. Let's extend the example to match a post id of type ",(0,r.jsx)(t.code,{children:"String"}),":"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-scala",children:'// GET /users/:user-id/posts/:post-id\nval pattern2: RoutePattern[(Int, String)] =\n  Method.GET / "users" / int("user-id") / "posts" / string("post-id")\n'})}),"\n",(0,r.jsxs)(t.p,{children:["With more path segments, the type of the ",(0,r.jsx)(t.code,{children:"RoutePattern"})," becomes a tuple of the types of the path segments, in this case, (Int, String)."]}),"\n",(0,r.jsx)(t.h2,{id:"matching-methods",children:"Matching Methods"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"Method"})," data type represent an HTTP method, and it offers the following predefined HTTP methods: ",(0,r.jsx)(t.code,{children:"GET"}),", ",(0,r.jsx)(t.code,{children:"POST"}),", ",(0,r.jsx)(t.code,{children:"PUT"}),", ",(0,r.jsx)(t.code,{children:"DELETE"}),", ",(0,r.jsx)(t.code,{children:"PATCH"}),", ",(0,r.jsx)(t.code,{children:"DELETE"}),", ",(0,r.jsx)(t.code,{children:"TRACE"}),", ",(0,r.jsx)(t.code,{children:"OPTIONS"}),", ",(0,r.jsx)(t.code,{children:"HEAD"}),", ",(0,r.jsx)(t.code,{children:"TRACE"})," and ",(0,r.jsx)(t.code,{children:"CONNECT"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"METHOD.ANY"})," is a wildcard method that matches any method."]})]})}function l(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>c});var s=n(96540);const r={},o=s.createContext(r);function i(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);